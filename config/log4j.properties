#
# Copyright 2017 LinkedIn Corp. Licensed under the BSD 2-Clause License (the "License"). See License in the project root for license information.
#

# ===============
# Properties
# ===============
property.logDirectoryPath=${env:CRUISE_CONTROL_LOG_DIR_PATH:-.}/logs

# ===============
# General configs
# ===============
rootLogger.level=INFO
appenders=console, kafkaCruiseControlAppender, operationAppender, requestAppender

# ===============
# Appender config
# ===============
appender.console.type=Console
appender.console.name=STDOUT
appender.console.layout.type=PatternLayout
appender.console.layout.pattern=[%d] %p %m (%c)%n

appender.kafkaCruiseControlAppender.type=RollingFile
appender.kafkaCruiseControlAppender.name=kafkaCruiseControlFile
appender.kafkaCruiseControlAppender.fileName=${logDirectoryPath}/kafkacruisecontrol.log
appender.kafkaCruiseControlAppender.filePattern=${logDirectoryPath}/kafkacruisecontrol.log-%i.gz
appender.kafkaCruiseControlAppender.layout.type=PatternLayout
appender.kafkaCruiseControlAppender.layout.pattern=[%d] %p %m (%c)%n
appender.kafkaCruiseControlAppender.policies.type=Policies
appender.kafkaCruiseControlAppender.policies.size.type=SizeBasedTriggeringPolicy
appender.kafkaCruiseControlAppender.policies.size.size=${env:KAFKACRUISECONTROL_APPENDER_LOGFILE_ROTATION_FILESIZE:-10MB}
appender.kafkaCruiseControlAppender.strategy.type=DefaultRolloverStrategy
appender.kafkaCruiseControlAppender.strategy.max=5

appender.operationAppender.type=RollingFile
appender.operationAppender.name=operationFile
appender.operationAppender.fileName=${logDirectoryPath}/kafkacruisecontrol-operation.log
appender.operationAppender.filePattern=${logDirectoryPath}/kafkacruisecontrol-operation.log-%i.gz
appender.operationAppender.layout.type=PatternLayout
appender.operationAppender.layout.pattern=[%d] %p [%c] %m %n
appender.operationAppender.policies.type=Policies
appender.operationAppender.policies.time.type=TimeBasedTriggeringPolicy
appender.operationAppender.policies.time.interval=1
appender.operationAppender.policies.size.type=SizeBasedTriggeringPolicy
appender.operationAppender.policies.size.size=${env:OPERATION_APPENDER_LOGFILE_ROTATION_FILESIZE:-10MB}
appender.operationAppender.strategy.type=DefaultRolloverStrategy
appender.operationAppender.strategy.max=5

appender.requestAppender.type=RollingFile
appender.requestAppender.name=requestFile
appender.requestAppender.fileName=${logDirectoryPath}/kafkacruisecontrol-request.log
appender.requestAppender.filePattern=${logDirectoryPath}/kafkacruisecontrol-request.log-%i.gz
appender.requestAppender.layout.type=PatternLayout
appender.requestAppender.layout.pattern=[%d] %p %m (%c)%n
appender.requestAppender.policies.type=Policies
appender.requestAppender.policies.size.type=SizeBasedTriggeringPolicy
appender.requestAppender.policies.size.size=${env:REQUEST_APPENDER_LOGFILE_ROTATION_FILESIZE:-10MB}
appender.requestAppender.strategy.type=DefaultRolloverStrategy
appender.requestAppender.strategy.max=5

# ===============
# Logger
# ===============
logger.cruisecontrol.name=com.linkedin.kafka.cruisecontrol
logger.cruisecontrol.level=info
logger.cruisecontrol.appenderRef.kafkaCruiseControlAppender.ref=kafkaCruiseControlFile

logger.detector.name=com.linkedin.kafka.cruisecontrol.detector
logger.detector.level=info
logger.detector.appenderRef.kafkaCruiseControlAppender.ref=kafkaCruiseControlFile

logger.operationLogger.name=operationLogger
logger.operationLogger.level=info
logger.operationLogger.appenderRef.operationAppender.ref=operationFile

logger.CruiseControlPublicAccessLogger.name=CruiseControlPublicAccessLogger
logger.CruiseControlPublicAccessLogger.level=info
logger.CruiseControlPublicAccessLogger.appenderRef.requestAppender.ref=requestFile

# ===============
# Root logger
# ===============
rootLogger.appenderRefs=console, kafkaCruiseControlAppender
rootLogger.appenderRef.console.ref=STDOUT
rootLogger.appenderRef.kafkaCruiseControlAppender.ref=kafkaCruiseControlFile
